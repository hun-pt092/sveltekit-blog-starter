---
title: "TÃ¬m hiá»ƒu vá» Há»‡ thá»‘ng phÃ¢n tÃ¡n"
slug: "he-thong-phan-tan"
date: "2025-04-28"
excerpt: "BÃ i viáº¿t giá»›i thiá»‡u há»‡ thá»‘ng phÃ¢n tÃ¡n, cÃ¡c khÃ¡i niá»‡m quan trá»ng, thuáº­t ngá»¯ vÃ  vÃ­ dá»¥ á»©ng dá»¥ng trong thá»±c táº¿."
coverImage: "/images/distribu-system.png"
coverWidth: 1200
coverHeight: 630
categories: ["cÃ´ng nghá»‡", "há»‡ thá»‘ng phÃ¢n tÃ¡n"]
---
**TÃ¡c giáº£:** Nguyá»…n Duy HÆ°ng
# Há»‡ thá»‘ng phÃ¢n tÃ¡n lÃ  gÃ¬?

Há»‡ thá»‘ng phÃ¢n tÃ¡n (Distributed System) lÃ  má»™t táº­p há»£p cÃ¡c mÃ¡y tÃ­nh Ä‘á»™c láº­p káº¿t ná»‘i vá»›i nhau thÃ´ng qua máº¡ng, phá»‘i há»£p hoáº¡t Ä‘á»™ng nhÆ° má»™t há»‡ thá»‘ng thá»‘ng nháº¥t. DÃ¹ cÃ¡c thÃ nh pháº§n náº±m ráº£i rÃ¡c vá» máº·t Ä‘á»‹a lÃ½ vÃ  hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p, nhÆ°ng chÃºng cÃ¹ng chia sáº» tÃ i nguyÃªn, dá»¯ liá»‡u vÃ  cÃ´ng viá»‡c Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ lá»›n má»™t cÃ¡ch hiá»‡u quáº£.

Trong má»™t há»‡ thá»‘ng phÃ¢n tÃ¡n, ngÆ°á»i dÃ¹ng khÃ´ng cáº§n biáº¿t hoáº·c quan tÃ¢m Ä‘áº¿n viá»‡c dá»¯ liá»‡u Ä‘áº¿n tá»« Ä‘Ã¢u, xá»­ lÃ½ á»Ÿ Ä‘Ã¢u â€“ má»i thá»© diá»…n ra "trong suá»‘t", tá»± Ä‘á»™ng vÃ  hiá»‡u quáº£.

---

# CÃ¡c á»©ng dá»¥ng cá»§a há»‡ thá»‘ng phÃ¢n tÃ¡n

Há»‡ thá»‘ng phÃ¢n tÃ¡n lÃ  ná»n táº£ng cá»§a háº§u háº¿t cÃ¡c á»©ng dá»¥ng hiá»‡n Ä‘áº¡i:

- **Dá»‹ch vá»¥ lÆ°u trá»¯ Ä‘Ã¡m mÃ¢y**: Google Drive, Dropbox, OneDrive
- **Ná»n táº£ng microservices**: CÃ¡c há»‡ thá»‘ng ná»™i bá»™ táº¡i cÃ¡c táº­p Ä‘oÃ n lá»›n nhÆ° Amazon, Tiki, Grab
- **Dá»‹ch vá»¥ truyá»n phÃ¡t trá»±c tuyáº¿n**: Netflix, YouTube, Spotify
- **Máº¡ng xÃ£ há»™i**: Facebook, Instagram, TikTok
- **Há»‡ thá»‘ng tÃ i chÃ­nh**: Internet Banking, vÃ­ Ä‘iá»‡n tá»­ nhÆ° Momo, ZaloPay
- **Blockchain vÃ  tiá»n mÃ£ hÃ³a**: Ethereum, Bitcoin
- **CÃ´ng cá»¥ tÃ¬m kiáº¿m**: Google Search, Bing

---

# CÃ¡c khÃ¡i niá»‡m chÃ­nh cá»§a há»‡ thá»‘ng phÃ¢n tÃ¡n

## Scalability (Kháº£ nÄƒng má»Ÿ rá»™ng)

Kháº£ nÄƒng há»‡ thá»‘ng thÃ­ch nghi vá»›i lÆ°u lÆ°á»£ng tÄƒng cao báº±ng cÃ¡ch má»Ÿ rá»™ng tÃ i nguyÃªn. CÃ³ hai dáº¡ng:
- **Vertical Scaling**: TÄƒng cÆ°á»ng pháº§n cá»©ng cho mÃ¡y chá»§ hiá»‡n táº¡i.
- **Horizontal Scaling**: ThÃªm nhiá»u mÃ¡y chá»§ má»›i Ä‘á»ƒ chia táº£i.

## Fault Tolerance (Kháº£ nÄƒng chá»‹u lá»—i)

Khi má»™t hoáº·c nhiá»u thÃ nh pháº§n bá»‹ lá»—i, há»‡ thá»‘ng váº«n hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh báº±ng cÃ¡ch chuyá»ƒn hÆ°á»›ng hoáº·c phá»¥c há»“i dá»¯ liá»‡u/tÃ¡c vá»¥.

## Availability (TÃ­nh sáºµn sÃ ng)

Kháº£ nÄƒng há»‡ thá»‘ng luÃ´n sáºµn sÃ ng phá»¥c vá»¥ ngÆ°á»i dÃ¹ng. Má»™t há»‡ thá»‘ng phÃ¢n tÃ¡n tá»‘t cÃ³ thá»i gian hoáº¡t Ä‘á»™ng gáº§n nhÆ° tuyá»‡t Ä‘á»‘i (99.999%).

## Transparency (TÃ­nh trong suá»‘t)

NgÆ°á»i dÃ¹ng khÃ´ng nháº­n tháº¥y sá»± phÃ¢n tÃ¡n â€“ há» tÆ°Æ¡ng tÃ¡c nhÆ° thá»ƒ há»‡ thá»‘ng lÃ  má»™t khá»‘i thá»‘ng nháº¥t. Transparency bao gá»“m:
- Location transparency
- Access transparency
- Replication transparency
- Concurrency transparency

## Concurrency (TÃ­nh Ä‘á»“ng thá»i)

Há»‡ thá»‘ng cÃ³ thá»ƒ xá»­ lÃ½ nhiá»u yÃªu cáº§u cÃ¹ng lÃºc tá»« hÃ ng ngÃ n ngÆ°á»i dÃ¹ng, á»Ÿ nhiá»u vá»‹ trÃ­ khÃ¡c nhau.

## Parallelism (TÃ­nh song song)

Há»‡ thá»‘ng cÃ³ thá»ƒ chia nhá» cÃ´ng viá»‡c Ä‘á»ƒ xá»­ lÃ½ song song nháº±m tÄƒng tá»‘c Ä‘á»™. VÃ­ dá»¥: render video, xá»­ lÃ½ dá»¯ liá»‡u lá»›n.

## Openness (TÃ­nh má»Ÿ)

Há»‡ thá»‘ng dá»… tÃ­ch há»£p, phÃ¡t triá»ƒn thÃªm, nhá» tuÃ¢n thá»§ cÃ¡c chuáº©n má»Ÿ nhÆ° HTTP, RESTful, gRPC...

## Vertical Scaling

Má»Ÿ rá»™ng báº±ng cÃ¡ch nÃ¢ng cáº¥p pháº§n cá»©ng mÃ¡y chá»§ â€“ nhanh nhÆ°ng giá»›i háº¡n vÃ  Ä‘áº¯t Ä‘á».

## Horizontal Scaling

ThÃªm nhiá»u node vÃ o há»‡ thá»‘ng â€“ hiá»‡u quáº£ vÃ  bá»n vá»¯ng hÆ¡n.

## Load Balancer (Bá»™ cÃ¢n báº±ng táº£i)

PhÃ¢n phá»‘i lÆ°u lÆ°á»£ng truy cáº­p Ä‘áº¿n cÃ¡c mÃ¡y chá»§ khÃ¡c nhau, giÃºp tá»‘i Æ°u hiá»‡u suáº¥t vÃ  trÃ¡nh tÃ¬nh tráº¡ng quÃ¡ táº£i.

## Replication (Sao chÃ©p dá»¯ liá»‡u)

NhÃ¢n báº£n dá»¯ liá»‡u Ä‘áº¿n nhiá»u node Ä‘á»ƒ tÄƒng Ä‘á»™ tin cáº­y, giáº£m Ä‘á»™ trá»…, vÃ  há»— trá»£ phá»¥c há»“i khi gáº·p lá»—i.

---

# VÃ­ dá»¥ thá»±c táº¿: Shopee

Giáº£ sá»­ báº¡n Ä‘ang sá»­ dá»¥ng **Shopee** â€“ má»™t ná»n táº£ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ phá»• biáº¿n:

- Khi báº¡n truy cáº­p trang web, yÃªu cáº§u cá»§a báº¡n Ä‘Æ°á»£c gá»­i Ä‘áº¿n má»™t **Load Balancer**, rá»“i phÃ¢n phá»‘i Ä‘áº¿n mÃ¡y chá»§ gáº§n nháº¥t.
- Má»—i Ä‘Æ¡n hÃ ng, thÃ´ng tin tÃ i khoáº£n, hÃ¬nh áº£nh sáº£n pháº©m Ä‘á»u Ä‘Æ°á»£c **replicate** nhiá»u nÆ¡i.
- Khi cÃ³ Flash Sale, há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng **horizontal scale** Ä‘á»ƒ má»Ÿ rá»™ng vÃ  chá»‹u táº£i tá»‘t hÆ¡n.
- Náº¿u má»™t mÃ¡y chá»§ bá»‹ lá»—i, há»‡ thá»‘ng chuyá»ƒn hÆ°á»›ng sang node khÃ¡c (**fault tolerance**).
- Trong quÃ¡ trÃ¬nh thanh toÃ¡n, nhiá»u dá»‹ch vá»¥ cÃ¹ng phá»‘i há»£p Ä‘á»“ng thá»i (**concurrency**) vÃ  song song (**parallelism**).

â†’ ÄÃ¢y lÃ  má»™t minh há»a rÃµ rÃ ng cho cÃ¡c tÃ­nh cháº¥t: **scalability, fault tolerance, availability, replication, concurrency**, v.v.

---

# Kiáº¿n trÃºc cá»§a há»‡ thá»‘ng phÃ¢n tÃ¡n

## 1. Client-Server

Cáº¥u trÃºc cÆ¡ báº£n nháº¥t: mÃ¡y khÃ¡ch (client) gá»­i yÃªu cáº§u, mÃ¡y chá»§ (server) xá»­ lÃ½ vÃ  pháº£n há»“i.

## 2. Peer-to-Peer (P2P)

Má»—i node Ä‘á»u cÃ³ thá»ƒ lÃ  client vÃ  server, chia sáº» tÃ i nguyÃªn ngang hÃ ng. VÃ­ dá»¥: BitTorrent, IPFS.

## 3. Microservices Architecture

á»¨ng dá»¥ng Ä‘Æ°á»£c chia thÃ nh cÃ¡c dá»‹ch vá»¥ nhá», triá»ƒn khai vÃ  má»Ÿ rá»™ng Ä‘á»™c láº­p. Ráº¥t phá»• biáº¿n trong cÃ¡c há»‡ thá»‘ng cloud-native.

## 4. Service-Oriented Architecture (SOA)

CÃ¡c dá»‹ch vá»¥ giao tiáº¿p vá»›i nhau qua cÃ¡c chuáº©n nhÆ° SOAP, WSDL. Tiá»n thÃ¢n cá»§a Microservices.

## 5. Event-Driven Architecture (EDA)

CÃ¡c thÃ nh pháº§n trong há»‡ thá»‘ng tÆ°Æ¡ng tÃ¡c thÃ´ng qua cÃ¡c sá»± kiá»‡n (event) â€“ giÃºp há»‡ thá»‘ng pháº£n á»©ng nhanh, má»m dáº»o.

---

# VÃ­ dá»¥: Netflix â€“ Kiáº¿n trÃºc phÃ¢n tÃ¡n thá»±c táº¿

**Netflix** lÃ  má»™t vÃ­ dá»¥ tiÃªu biá»ƒu vá» há»‡ thá»‘ng phÃ¢n tÃ¡n quy mÃ´ toÃ n cáº§u:

- Sá»­ dá»¥ng **Microservices**: HÃ ng trÄƒm dá»‹ch vá»¥ nhá» phá»‘i há»£p Ä‘á»ƒ cung cáº¥p giao diá»‡n ngÆ°á»i dÃ¹ng, thanh toÃ¡n, cÃ¡ nhÃ¢n hÃ³a...
- Dá»±a trÃªn **AWS Cloud**: Kháº£ nÄƒng **autoscale** linh hoáº¡t theo lÆ°u lÆ°á»£ng ngÆ°á»i dÃ¹ng toÃ n cáº§u.
- Dá»¯ liá»‡u Ä‘Æ°á»£c **replicate** táº¡i nhiá»u khu vá»±c Ä‘á»‹a lÃ½ Ä‘á»ƒ Ä‘áº£m báº£o tá»‘c Ä‘á»™ truy cáº­p vÃ  tÃ­nh sáºµn sÃ ng.
- Sá»­ dá»¥ng **Load Balancer**, **CDN**, vÃ  cÃ¡c cÃ´ng cá»¥ nhÆ° Chaos Monkey Ä‘á»ƒ kiá»ƒm tra Ä‘á»™ bá»n (**fault tolerance**).
- ToÃ n bá»™ hoáº¡t Ä‘á»™ng xá»­ lÃ½ tá»« ngÆ°á»i dÃ¹ng, phÃ¢n phá»‘i ná»™i dung, Ä‘á» xuáº¥t, ghi nháº­n hÃ nh vi... Ä‘Æ°á»£c thá»±c hiá»‡n má»™t cÃ¡ch **song song** vÃ  **Ä‘á»“ng thá»i** á»Ÿ quy mÃ´ hÃ ng triá»‡u ngÆ°á»i dÃ¹ng má»—i ngÃ y.

---
# MÃ´ phá»ng kiáº¿n trÃºc há»‡ thá»‘ng phÃ¢n tÃ¡n báº±ng mÃ£ nguá»“n

DÆ°á»›i Ä‘Ã¢y lÃ  vÃ­ dá»¥ Ä‘Æ¡n giáº£n minh há»a cÃ¡ch xÃ¢y dá»±ng má»™t dá»‹ch vá»¥ Ä‘Æ¡n giáº£n trong kiáº¿n trÃºc microservices sá»­ dá»¥ng Node.js, Redis, vÃ  thá»ƒ hiá»‡n cÃ¡ch load balancer hoáº¡t Ä‘á»™ng.

## VÃ­ dá»¥ 1: Microservice API Ä‘Æ¡n giáº£n vá»›i Node.js

```js
// service.js
const express = require('express');
const app = express();
const PORT = process.env.PORT || 3000;

app.get('/status', (req, res) => {
  res.send({ service: `Service on port ${PORT}`, status: 'OK' });
});

app.listen(PORT, () => {
  console.log(`Service is running on port ${PORT}`);
});
```

# Káº¿t luáº­n

Há»‡ thá»‘ng phÃ¢n tÃ¡n lÃ  ná»n táº£ng cá»§a háº§u háº¿t cÃ¡c á»©ng dá»¥ng hiá»‡n Ä‘áº¡i, tá»« máº¡ng xÃ£ há»™i Ä‘áº¿n thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ vÃ  dá»‹ch vá»¥ video. Viá»‡c hiá»ƒu rÃµ cÃ¡c khÃ¡i niá»‡m nhÆ° scalability, availability, fault tolerance hay kiáº¿n trÃºc microservices sáº½ giÃºp báº¡n xÃ¢y dá»±ng nhá»¯ng há»‡ thá»‘ng máº¡nh máº½, linh hoáº¡t vÃ  cÃ³ kháº£ nÄƒng phÃ¡t triá»ƒn lÃ¢u dÃ i.

---

> ğŸ“Œ *Tham kháº£o: Slide bÃ i giáº£ng mÃ´n Há»‡ thá»‘ng phÃ¢n tÃ¡n, Wikipedia, AWS Architecture Blog, Netflix Tech Blog, Martin Fowler on Microservices.*
